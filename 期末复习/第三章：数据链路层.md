@数据链路层的设计问题

**基本概念**

结点：主机、路由器

链路：网络中两个结点之间的物理通道，链路的传输介质主要有双绞线、光纤和微波。分为有线链路、无线链路

数据链路：网络中两个结点之间的逻辑通道，把实现控制数据传输协议的硬件和软件加到链路上就构成数据链路

帧：链路层的协议数据单元，封装网络层数据报

**主要任务**：负责通过一条链路从一个结点向另一个物理链路直接相连的相邻结点传送数据报

**主要功能**

数据链路层在物理层提供服务的基础上**向网络层提供服务**，其最基本的服务是**将源自网络层来的数据可靠地传输到相邻节点的目标机网络层**。其主要作用是**加强物理层传输原始比特流的功能**，将物理层提供的可能出错的物理连接改造成为**逻辑上无差错的数据链路**，使之对网络层表现为一条无差错的链路

![image-20200813102048092](img/45.png)

*   为网络层提供服务。无确认无连接服务，有确认无连接服务，有确认面向连接服务。**有连接一定有确认！**
*   链路管理，即连接的建立、维持、释放（用于面向连接的服务）
*   组帧
*   流量控制。限制发送方
*   差错控制（帧错/位错）



@差错检测和纠正

封装成帧与透明传输

**封装成帧**

**发送端**将网络层的**IP数据报**进行包装，封装成帧，添加帧首部与帧尾部

**接收端**在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束

首部和尾部包含许多的控制信息，他们的一个重要作用：**帧定界**（确定帧的界限）

**帧同步**：接收方应当能从接收到的二进制比特流中区分出帧的起始和终止

组帧的四种方法：1.字符计数法，2.字符（节）填充法，3.零比特填充法，4.违规编码法。

![image-20200813102450836](img/46.png)

**1.字符计数法**

![image-20200813102947806](img/47.png)

2.**字符填充法**

![image-20200813103155277](img/48.png)

含有特殊字符的处理方法

![image-20200813103302966](img/49.png)

3.**零比特填充法**

![image-20200813103425494](img/50.png)













**透明传输**

透明传输是指不管所传数据是什么样的比特组合，都应当能够在链路上传送。因此，链路层就“看不见”有什么妨碍数据传输的东西

当所传数据中的比特组合恰巧与某一个控制信息完全一样时，就必须采取适当的措施，使收方不会将这样的数据误认为是某种控制信息。这样才能保证数据链路层的传输是透明的。













@基本数据链路层协议



@滑动窗口协议



@@数据链路协议实例